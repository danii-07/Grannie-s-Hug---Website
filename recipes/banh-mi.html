<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banh Mi</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            position: relative;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .recipe-details {
            margin-bottom: 20px;
        }

        .recipe-details img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
            display: block;
            border-radius: 4px;
        }

        .recipe-details p {
            margin: 5px 0;
            font-size: 0.95em;
        }

        label {
            display: block;
            margin-bottom: 3px;
            font-size: 0.9em;
        }
        input[type="number"] {
            width: 60px;
            padding: 4px;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        button {
            padding: 6px 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.9em;
        }
        #results {
            margin-top: 15px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 0.9em;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 6px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }

        .calculator-container {
            margin-top: 25px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 60px;
        }

        .calculator-container h2 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .back-button {
            display: inline-block;
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            position: absolute;
            bottom: 15px;
            right: 15px;
            font-size: 0.9em;
        }

        .back-button:hover {
            background-color: #2980b9;
        }

        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            h1 {
                font-size: 1.6em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Bahn-Mi</h1>
        <div class="recipe-details">
            <img src="../images/bh.png" alt="Bahn-Mi">
            <h2>Ingredients</h2>
            <ul>
                <li>400 grams extra-firm tofu</li>
                <li>Extra-virgin oil for the pan</li>
                <li>4 baguette pieces, sliced in half</li>
                <li>Spicy Mayo</li>
                <li>Fresh cilantro</li>
                <li>Pickled Veggies (see instructions)</li>
            </ul>

            <h3>Pickled Veggies Ingredients:</h3>
            <ul>
                <li>100 grams daikon radish, sliced into matchsticks</li>
                <li>100 grams carrots, sliced into matchsticks</li>
                <li>100 grams cucumber, seeded and sliced into matchsticks</li>
                <li>10 grams jalapeño pepper, thinly sliced</li>
                <li>80 milliliters rice vinegar, plus more as needed</li>
                <li>80 milliliters water, plus more as needed</li>
                <li>Cane Sugar (to taste)</li>
                <li>Sea salt (to taste)</li>
            </ul>

            <h3>Tofu Marinade Ingredients:</h3>
            <ul>
                <li>15 milliliters olive oil</li>
                <li>30 milliliters tamari</li>
                <li>Juice of ½ lime (approximately 15 milliliters)</li>
                <li>½ teaspoon lime zest</li>
                <li>1 garlic clove, minced (approximately 5 grams)</li>
                <li>½ teaspoon minced fresh ginger (approximately 2 grams)</li>
                <li>Freshly ground black pepper (to taste)</li>
            </ul>

            <h2>Instructions</h2>
            <ol>
                <li>Make the pickles ahead: Place the daikon, carrots, cucumbers, and jalapeños in a medium jar with the vinegar and water and pinches of sugar and salt. If the liquids don’t cover the veggies, add more water and vinegar if necessary. Let chill for at least an hour, or store in the fridge for up to a week.</li>
                <li>Drain the tofu and slice it into ½-inch slices. Place it on a towel and gently pat dry to remove excess water.</li>
                <li>Make the marinade: In a small bowl, whisk together the olive oil, tamari, lime juice and zest, garlic, ginger, and pepper.</li>
                <li>Place the tofu in a shallow pan and pour the marinade on top. Flip the tofu to fully coat it, adding more tamari if necessary. Let the tofu marinate for at least 15 minutes.</li>
                <li>Heat a nonstick skillet to medium-high heat. Add a little oil to the pan and place the tofu pieces with enough space between each so that they’re not too crowded, working in batches if necessary. Without moving the tofu slices around too much, let them cook for a few minutes per side until they’re deeply golden brown and caramelized around the edges. Remove from heat and season to taste.</li>
                <li>Assemble sandwiches on the baguette with the spicy mayo, tofu slices, pickled veggies, and cilantro. Enjoy!</li>
            </ol>
            <h2>Servings</h2>
            <p>4 servings</p>
        </div>

        <div class="calculator-container">
            <h2>Ingredient Calculator</h2>

            <label for="newServings">Desired servings (Sandwiches):</label>
            <input type="number" id="newServings" value="4">

            <button onclick="calculateIngredients()">Calculate</button>

            <div id="results">
                <h2>Adjusted Ingredients</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Ingredient</th>
                            <th>Quantity</th>
                            <th>Unit</th>
                        </tr>
                    </thead>
                    <tbody id="ingredientTableBody">
                    </tbody>
                </table>
            </div>
        </div>
        <a href="../filterpage.html" class="back-button">Back to Recipes</a>
    </div>

    <script>
        function calculateIngredients() {
            const originalServings = 4; // Fixed original servings
            const newServings = parseFloat(document.getElementById("newServings").value);

            if (isNaN(newServings) || newServings <= 0) {
                alert("Please enter a valid positive number for servings.");
                return;
            }

            const ratio = newServings / originalServings;

            const ingredients = [
                { name: "Tofu", quantity: 400, unit: "grams" },
                { name: "Daikon Radish", quantity: 100, unit: "grams" },
                { name: "Carrots", quantity: 100, unit: "grams" },
                { name: "Cucumber", quantity: 100, unit: "grams" },
                { name: "Jalapeno Pepper", quantity: 10, unit: "grams" },
                { name: "Rice Vinegar", quantity: 80, unit: "milliliters" },
                { name: "Water", quantity: 80, unit: "milliliters" },
                { name: "Olive Oil (Marinade)", quantity: 15, unit: "milliliters" },
                { name: "Tamari", quantity: 30, unit: "milliliters" },
                { name: "Lime Juice", quantity: 15, unit: "milliliters" },
                { name: "Garlic (Marinade)", quantity: 5, unit: "grams" },
                { name: "Ginger (Marinade)", quantity: 2, unit: "grams" }
            ];

            const adjustedIngredients = ingredients.map(ingredient => ({
                name: ingredient.name,
                quantity: ingredient.quantity * ratio,
                unit: ingredient.unit
            }));

            const tableBody = document.getElementById("ingredientTableBody");
            tableBody.innerHTML = "";

            adjustedIngredients.forEach(ingredient => {
                const row = tableBody.insertRow();
                const nameCell = row.insertCell();
                const quantityCell = row.insertCell();
                const unitCell = row.insertCell();

                nameCell.textContent = ingredient.name;
                quantityCell.textContent = ingredient.quantity.toFixed(2);
                unitCell.textContent = ingredient.unit;
            });
        }
    </script>
</body>
</html>